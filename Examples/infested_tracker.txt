^1^T^SGUID^STMW:group:1ReKNCHvF9go ^SScale^F5254291191234560 ^f-52^SPoint ^T^Sy^F-8685131296010493 ^f-48^Sx ^F6167211186061316^f-44 ^Spoint^STOPLEFT ^SrelativePoint^STOPLEFT ^t^SColumns^N1 ^SIcons^T ^N1^T ^SType^Sconditionicon ^SEvents^T ^N1^T ^SType^SLua ^SLua^S--~`Infested~`Texture~`helper~`functions~J --~`Modified~`to~`TMW~`by~`Arieh~`Glazer~J ~J --~`Made~`by~`Chilly@Draenor~J --~J --~`Do~`not~`edit~`below~J --~J ~J local~`icon~`=~`...~J ~J if~`not~`icon.aura_env~`then~`~J ~`~`~`~`icon.aura_env~`=~`{enabled~`=~`false,~`installed~`=~`false}~J end~J local~`aura_env~`=~`icon.aura_env~J ~J if~`(aura_env.installed)~`then~J ~`~`~`~`return~J end~J ~J ~J local~`_GetUnitAura~`=~`function(unit,~`spell,~`filter)~J ~`~`~`~`for~`i~`=~`1,~`255~`do~J ~`~`~`~`~`~`~`~`local~`name,~`_,~`_,~`_,~`_,~`_,~`_,~`_,~`_,~`spellId~`=~`UnitAura(unit,~`i,~`filter)~J ~`~`~`~`~`~`~`~`if~`not~`name~`then~`return~`end~J ~`~`~`~`~`~`~`~`if~`spell~`==~`spellId~`or~`spell~`==~`name~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`return~`UnitAura(unit,~`i,~`filter)~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`end~J end~J ~J aura_env._GetUnitBuff~`=~`function(unit,~`spell,~`filter)~J ~`~`~`~`return~`_GetUnitAura(unit,~`spell,~`filter)~J end~J ~J local~`verticalOffset~`=~`45~J local~`horizontalOffset~`=~`0~J ~J aura_env.texturePool~`=~`{}~J ~J local~`getTextureFromPool~`=~`function(unit)~J ~`~`~`~`for~`unitId,~`texture~`in~`pairs(aura_env.texturePool)~`do~J ~`~`~`~`~`~`~`~`if~`not~`texture.inUse~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`aura_env.texturePool[unitId]~`=~`nil~`--~`Move~`the~`texture~`to~`new~`unitId~J ~`~`~`~`~`~`~`~`~`~`~`~`aura_env.texturePool[unit]~`=~`texture~J ~`~`~`~`~`~`~`~`~`~`~`~`return~`texture~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`end~J ~`~`~`~`~J ~`~`~`~`local~`frame~`=~`CreateFrame("Frame")~J ~`~`~`~`frame:SetFrameStrata("BACKGROUND")~J ~`~`~`~`frame:SetFrameLevel(0)~J ~`~`~`~`frame:SetPoint("CENTER",~`0,~`0)~J ~`~`~`~`frame:Hide()~J ~`~`~`~`frame.inUse~`=~`true~J ~`~`~`~`frame.icon~`=~`frame:CreateTexture(nil,~`"BACKGROUND",~`nil,~`-8)~J ~`~`~`~`frame.icon:SetAllPoints()~J ~`~`~`~`aura_env.texturePool[unit]~`=~`frame~J ~`~`~`~`~J ~`~`~`~`return~`frame~J end~J ~J local~`addTextureToNameplate~`=~`function(unit,~`icon,~`width)~J ~`~`~`~`local~`nameplate~`=~`C_NamePlate.GetNamePlateForUnit(unit)~J ~`~`~`~`if~`not~`nameplate~`then~`return~`end~J ~`~`~`~`local~`frame~`=~`getTextureFromPool(unit)~J ~`~`~`~`frame.inUse~`=~`true~J ~`~`~`~`frame:ClearAllPoints()~J ~`~`~`~`frame:SetPoint("CENTER",~`nameplate,~`"CENTER",~`horizontalOffset,~`verticalOffset)~J ~`~`~`~`frame:SetSize(width,~`width)~J ~`~`~`~`frame.icon:SetTexture(icon)~J ~`~`~`~`frame:Show()~J end~J ~J ~J local~`namePlateHandler~`=~`function(event,~`unitId)~J ~`~`~`~`if~`(not~`aura_env.enabled)~`then~`return~`end~J ~`~`~`~`~J ~`~`~`~`if~`event~`==~`"NAME_PLATE_UNIT_ADDED"~`then~J ~`~`~`~`~`~`~`~`local~`_,~`icon~`=~`_GetUnitAura(unitId,~`277242)~J ~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`if~`icon~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`addTextureToNameplate(unitId,~`icon,~`40)~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`elseif~`event~`==~`"NAME_PLATE_UNIT_REMOVED"~`then~J ~`~`~`~`~`~`~`~`if~`aura_env.texturePool[unitId]~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`aura_env.texturePool[unitId].inUse~`=~`false~J ~`~`~`~`~`~`~`~`~`~`~`~`aura_env.texturePool[unitId]:Hide()~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`end~J end~J ~J TMW_ST:RegisterEvent("NAME_PLATE_UNIT_ADDED",~`namePlateHandler)~J TMW_ST:RegisterEvent("NAME_PLATE_UNIT_REMOVED",~`namePlateHandler)~J ~J aura_env.installed~`=~`true ^SEvent^SOnEventsRestored ^t^N2^T ^SType^SLua ^SLua^S--~`<Untitled~`Lua~`Code>~J ~J local~`icon~`=~`...~J ~J --Your~`code~`goes~`here:~J ~J ~J icon.aura_env.enabled~`=~`true ^SEvent^SOnShow ^t^N3^T ^SType^SLua ^SLua^S--~`<Untitled~`Lua~`Code>~J ~J local~`icon~`=~`...~J ~J --Your~`code~`goes~`here:~J ~J icon.aura_env.enabled~`=~`true ^SEvent^SOnHide ^t^Sn^N3 ^t^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STextLayout^STMW:textlayout:1OBCzG7djbEH ^STexts^T ^N1^S[Counter("tmwst_mythic_plus_level")] ^t^t^t^SCustomTex^S277242 ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^SConditions^T ^N1^T ^SType^STMWSTMYTHICPLUS ^SOperator^S>= ^SLevel^N10 ^t^Sn^N1 ^t^t^N2^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N3^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N4^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^t^SName^SInfested~`Monitor ^t^N85403^S~`~| ^Sgroup^N17 ^^

^1 ^T^N1^T ^SStringName^SNumber ^SConstrainWidth^b ^t^N2^T ^SAnchors^T ^N1^T ^Sy^N5 ^Spoint^STOPLEFT ^SrelativePoint^STOPLEFT ^t^t^SSize^N10 ^t^SGUID^STMW:textlayout:1OBCzG7djbEH ^Sn^N2 ^SName^SCenter~`Timer ^t^N85403^S~`~| ^Stextlayout^STMW:textlayout:1OBCzG7djbEH ^^