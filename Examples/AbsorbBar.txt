^1^T^SType^Sdynamicbar ^SEvents^T ^N1^T ^SType^SLua ^SLua^S--~`<Dynamic~`Absorb~`Bar>~J ~J local~`icon~`=~`...~J ~J local~`last_abs~`=~`0~J ~J icon.setMaxValue(100)~J --Your~`code~`goes~`here:~J icon:registerTriggerFunction(function()~J ~`~`~`~`~`~`~`~`local~`current~`=~`UnitGetTotalAbsorbs("player")~J ~`~`~`~`~`~`~`~`if~`current~`==~`nil~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`current~`=~`0~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`if~`(current~`==last_abs)~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`return~`true~J ~`~`~`~`~`~`~`~`end~`~J ~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`if~`(current~`>~`last_abs)~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`icon:setMaxValue(current)~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`~`~`~`~`last_abs~`=~`current~J ~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`icon:setCurrentValue(current)~J ~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`if~`(current~`==~`0)~`then~`~J ~`~`~`~`~`~`~`~`~`~`~`~`icon:setMaxValue(100)~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`return~`true~J end)~J ~J ~J ~J ~J ~J ~J  ^SEvent^SOnEventsRestored ^t^Sn^N1 ^t^SSettingsPerView^T ^Sbarv^T ^STexts^T ^N1^S[TotalAbsorb~`/~`1000]k~` ^N2^S[Value~`/~`1000]k ^t^t^Sbar^T ^STexts^T ^N1^S[(Value~`/~`ValueMax~`*~`100):Round:Percent] ^N2^S[ST_GetScriptText("foo")]~` ^t^t^t^SCustomTex^SNONE ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^SEnabled^B ^t^N84305^S~`~| ^Sicon^^